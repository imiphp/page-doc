<!doctype html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>数据库 - imi 框架 v1.0 开发手册文档</title>
    <!-- jQuery-->
    <script src="../../statics/plugin/jquery/jquery-1.12.0.min.js"></script>
    <!-- layui -->
    <link rel="stylesheet" href="../../statics/plugin/layui/css/layui.css" />
    <script src="../../statics/plugin/layui/layui.all.js"></script>
    <!-- zTree -->
    <link rel="stylesheet" href="../../statics/plugin/zTree/css/zTreeStyle/zTreeStyle.css" />
    <script src="../../statics/plugin/zTree/js/jquery.ztree.core.js"></script>
    <!-- SyntaxHighlighter -->
    <script src="../../statics/plugin/SyntaxHighlighter/shCore.js" type="text/javascript"></script>
    <link rel="stylesheet" type="text/css" href="../../statics/plugin/SyntaxHighlighter/shCoreDefault.css"/>
    <!-- 自定义 -->
    <link rel="stylesheet" href="../../statics/css/style.css" />
    <script src="../../statics/js/home.js"></script>
    <link rel="stylesheet" href="../../statics/css/docView.css" />
    <script src="../../statics/js/docView.js"></script>
</head>
<body>
    <!-- top-begin -->
    <div id="navbar">
        <ul class="layui-nav" lay-filter="">
            <div class="navRight">
                <li class="layui-nav-item" lay-unselect>
                    <a href="/v2.1/" target="_blank" style="padding-right: 40px;">v2.1 <span class="layui-badge">新</span></a>
                </li>
                <li class="layui-nav-item" lay-unselect>
                    <a href="/v2.0/" target="_blank">v2.0</a>
                </li>
                <li class="layui-nav-item layui-this" lay-unselect>
                    <a href="/v1/" target="_blank">v1.x</a>
                </li>
                <li class="layui-nav-item" lay-unselect>
                    <a id="btn-about" href="javascript:;">关于</a>
                </li>
            </div>
        </ul>
        <div class="nav-menu">
            <a href="../../" class="logo">imi 1.0 开发文档</a>
            <a href="javascript:;" id="navMenuLeft"><i class="layui-icon">&#xe658;</i></a>
            <a href="javascript:;" id="navMenuRight"><i class="layui-icon">&#xe61a;</i></a>
        </div>
        <div class="clear"></div>
    </div>
    <script>
    function openMenuLeft()
    {
        $('#leftbar').addClass('show-item');
        $('#navMenuLeft').addClass('active');
    }
    function closeMenuLeft()
    {
        $('#leftbar').removeClass('show-item');
        $('#navMenuLeft').removeClass('active');
    }
    $('#navMenuLeft').click(function(){
        var isShow = $('#leftbar').hasClass('show-item');
        if(isShow)
        {
            closeMenuLeft();
        }
        else
        {
            closeMenuRight();
            openMenuLeft();
        }
    });
    function openMenuRight()
    {
        $('#navbar > .layui-nav').addClass('show-item')
        $('#navMenuRight').addClass('active').find('i').html('&#xe619;');
    }
    function closeMenuRight()
    {
        $('#navbar > .layui-nav').removeClass('show-item')
        $('#navMenuRight').removeClass('active').find('i').html('&#xe61a;');
    }
    $('#navMenuRight').click(function(){
        var isShow = $('#navbar > .layui-nav').hasClass('show-item');
        if(isShow)
        {
            closeMenuRight();
        }
        else
        {
            closeMenuLeft();
            openMenuRight();
        }
    });
    </script>
    <!-- top-end -->

    <!-- left-begin -->
    <div id="leftbar" class="layui-nav-side">
        <div class="layui-tab layui-tab-brief" style="margin-top:0">
            <ul class="layui-tab-title">
                <li class="layui-this"><i class="layui-icon">&#xe705;</i> 目录</li>
                <li><i class="layui-icon">&#xe615;</i> 搜索</li>
            </ul>
            <div class="layui-tab-content" style="padding:0;overflow-y: auto;position: relative;padding-top: 12px;box-sizing: border-box;">
                <div class="layui-tab-item layui-show">
                    <ul id="treeDirectory" class="ztree showIcon"></ul>
                </div>
                <div class="layui-tab-item">
                    <div class="searchBox">
                        <div id="searchForm">
                            <div class="inputBox">
                                <input type="text" id="search-keyword" name="keyword" placeholder="搜索关键词" class="layui-input"/>
                                <i class="layui-icon input-icon">&#xe615;</i>
                            </div>
                        </div>
                        <ul id="treeSearch" class="ztree">
                        </ul>
                        <div class="searchResultNone">
                            <i class="layui-icon">&#xe615;</i>
                            <p>未搜索到结果</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="copyright noScroll">mddoc</div>
        </div>
    </div>
    <script id="searchListTemplate" type="text/html">
        {{#  layui.each(d, function(index, item){ }}
        <li>
            <a href="{{ item.url }}"><span>{{ item.title }}</span></a>
        </li>
        {{#  }) }}
    </script>
    <!-- left-end -->

    <div id="body">
        <div id="content_body" name="content_body" style="width:100%;height:100%;border:none;overflow: auto;">
            <div id="article-content" class="markdown-body">
                <script>
                    function parseCatalogItem(item)
                    {
                        item.url = new Array(2 + 1).join('../') + item.url;
                        return item;
                    }
                    document.title = '数据库 - imi 框架 v1.0 开发手册文档';
                    var currentCatalog = parseCatalogItem({"id":81,"title":"\u6570\u636e\u5e93","pageTitle":"\u6570\u636e\u5e93","url":"components\/db\/index.html"});
                    var catalogList = [{"id":1,"parent_id":0,"title":"\u57fa\u7840\u5165\u95e8","level":0},{"id":2,"parent_id":1,"title":"\u5e8f\u8a00","pageTitle":"\u5e8f\u8a00","mdFileName":"README.md","url":"index.html","level":1},{"id":3,"parent_id":1,"title":"\u4ecb\u7ecd","pageTitle":"\u4ecb\u7ecd","mdFileName":"base\/intro.md","url":"base\/intro.html","level":1},{"id":4,"parent_id":1,"title":"Swoole \u5f00\u53d1\u73af\u5883\u8bf4\u660e\u53ca\u5b89\u88c5\u6559\u7a0b","pageTitle":"\u73af\u5883\u8981\u6c42","mdFileName":"base\/env.md","url":"base\/env.html","level":1},{"id":5,"parent_id":1,"title":"\u5f00\u59cb\u4e00\u4e2a\u65b0\u9879\u76ee","pageTitle":"\u5f00\u59cb\u4e00\u4e2a\u65b0\u9879\u76ee","mdFileName":"base\/new.md","url":"base\/new.html","level":1},{"id":6,"parent_id":1,"title":"\u914d\u7f6e\u6587\u4ef6","pageTitle":"\u914d\u7f6e\u6587\u4ef6","mdFileName":"base\/config.md","url":"base\/config.html","level":1},{"id":7,"parent_id":1,"title":"\u5e38\u89c1\u95ee\u9898","pageTitle":"\u5e38\u89c1\u95ee\u9898","mdFileName":"base\/qa.md","url":"base\/qa.html","level":1},{"id":8,"parent_id":0,"title":"\u6846\u67b6\u6838\u5fc3","level":0},{"id":9,"parent_id":8,"title":"\u751f\u547d\u5468\u671f","pageTitle":"\u751f\u547d\u5468\u671f","mdFileName":"core\/lifeCycle.md","url":"core\/lifeCycle.html","level":1},{"id":10,"parent_id":8,"title":"\u5bb9\u5668","pageTitle":"\u5bb9\u5668","mdFileName":"core\/container.md","url":"core\/container.html","level":1},{"id":11,"parent_id":8,"title":"Partial","pageTitle":"Partial","mdFileName":"core\/partial.md","url":"core\/partial.html","level":1},{"id":12,"parent_id":8,"title":"\u4e8b\u4ef6","pageTitle":"\u4e8b\u4ef6","mdFileName":"core\/events.md","url":"core\/events.html","level":1},{"id":13,"parent_id":8,"title":"\u4e2d\u95f4\u4ef6","pageTitle":"\u4e2d\u95f4\u4ef6","mdFileName":"core\/middleware.md","url":"core\/middleware.html","level":1},{"id":14,"parent_id":8,"title":"\u8fdb\u7a0b\u540d\u79f0\u7ba1\u7406","pageTitle":"\u8fdb\u7a0b\u540d\u79f0\u7ba1\u7406","mdFileName":"core\/processNameManager.md","url":"core\/processNameManager.html","level":1},{"id":15,"parent_id":8,"title":"\u9519\u8bef\u8f6c\u4e3a\u5f02\u5e38\u6355\u83b7","pageTitle":"\u9519\u8bef\u8f6c\u4e3a\u5f02\u5e38\u6355\u83b7","mdFileName":"core\/handleError.md","url":"core\/handleError.html","level":1},{"id":16,"parent_id":8,"title":"\u5b50\u670d\u52a1\u5668\uff08\u5355\u9879\u76ee\u591a\u7aef\u53e3\u591a\u534f\u8bae\uff09","pageTitle":"\u5b50\u670d\u52a1\u5668\uff08\u5355\u9879\u76ee\u591a\u7aef\u53e3\u591a\u534f\u8bae\uff09","mdFileName":"core\/subServer.md","url":"core\/subServer.html","level":1},{"id":17,"parent_id":8,"title":"\u5185\u90e8\u8fdb\u7a0b\u95f4\u901a\u8baf","pageTitle":"\u5185\u90e8\u8fdb\u7a0b\u95f4\u901a\u8baf","mdFileName":"core\/processCommunication.md","url":"core\/processCommunication.html","level":1},{"id":18,"parent_id":0,"title":"Http \u670d\u52a1","level":0},{"id":19,"parent_id":18,"title":"\u9ad8\u6027\u80fd Http \u670d\u52a1","pageTitle":"\u9ad8\u6027\u80fd Http \u670d\u52a1","mdFileName":"components\/httpserver\/coServer.md","url":"components\/httpserver\/coServer.html","level":1},{"id":20,"parent_id":18,"title":"\u8def\u7531","pageTitle":"\u8def\u7531","mdFileName":"components\/httpserver\/route.md","url":"components\/httpserver\/route.html","level":1},{"id":21,"parent_id":18,"title":"\u8bf7\u6c42\u62e6\u622a","pageTitle":"\u8bf7\u6c42\u62e6\u622a","mdFileName":"components\/httpserver\/intercept.md","url":"components\/httpserver\/intercept.html","level":1},{"id":22,"parent_id":21,"title":"AOP \u62e6\u622a\u8bf7\u6c42","pageTitle":"AOP \u62e6\u622a\u8bf7\u6c42","mdFileName":"components\/httpserver\/aop.md","url":"components\/httpserver\/aop.html","level":2},{"id":23,"parent_id":21,"title":"\u4e2d\u95f4\u4ef6","pageTitle":"\u4e2d\u95f4\u4ef6","mdFileName":"components\/httpserver\/middleware.md","url":"components\/httpserver\/middleware.html","level":2},{"id":24,"parent_id":18,"title":"\u63a7\u5236\u5668","pageTitle":"\u63a7\u5236\u5668","mdFileName":"components\/httpserver\/controller.md","url":"components\/httpserver\/controller.html","level":1},{"id":25,"parent_id":18,"title":"RESTful","pageTitle":"RESTful","mdFileName":"components\/httpserver\/restful.md","url":"components\/httpserver\/restful.html","level":1},{"id":26,"parent_id":18,"title":"Session","pageTitle":"Session","mdFileName":"components\/httpserver\/session.md","url":"components\/httpserver\/session.html","level":1},{"id":27,"parent_id":18,"title":"JWT","pageTitle":"JWT","mdFileName":"components\/httpserver\/jwt.md","url":"components\/httpserver\/jwt.html","level":1},{"id":28,"parent_id":18,"title":"\u89c6\u56fe","pageTitle":"\u89c6\u56fe","mdFileName":"components\/httpserver\/view.md","url":"components\/httpserver\/view.html","level":1},{"id":29,"parent_id":18,"title":"\u9519\u8bef\u5f02\u5e38\u5904\u7406","pageTitle":"\u9519\u8bef\u5f02\u5e38\u5904\u7406","mdFileName":"components\/httpserver\/error.md","url":"components\/httpserver\/error.html","level":1},{"id":30,"parent_id":18,"title":"404\u5904\u7406","pageTitle":"404\u5904\u7406","mdFileName":"components\/httpserver\/404.md","url":"components\/httpserver\/404.html","level":1},{"id":31,"parent_id":18,"title":"HTTP \u9a8c\u8bc1\u5668","pageTitle":"HTTP \u9a8c\u8bc1\u5668","mdFileName":"components\/httpserver\/validation.md","url":"components\/httpserver\/validation.html","level":1},{"id":32,"parent_id":18,"title":"\u8d85\u5168\u5c40\u53d8\u91cf","pageTitle":"\u8d85\u5168\u5c40\u53d8\u91cf","mdFileName":"components\/httpserver\/superGlobals.md","url":"components\/httpserver\/superGlobals.html","level":1},{"id":33,"parent_id":18,"title":"\u8bf7\u6c42\u6700\u5927\u6267\u884c\u65f6\u95f4","pageTitle":"\u6700\u5927\u8bf7\u6c42\u6267\u884c\u65f6\u95f4","mdFileName":"components\/httpserver\/maxExecuteTime.md","url":"components\/httpserver\/maxExecuteTime.html","level":1},{"id":34,"parent_id":18,"title":"Http2","pageTitle":"Http2","mdFileName":"components\/httpserver\/http2.md","url":"components\/httpserver\/http2.html","level":1},{"id":35,"parent_id":18,"title":"\u8de8\u57df\u548c OPTIONS \u8bf7\u6c42","pageTitle":"\u8de8\u57df\u548c OPTIONS \u8bf7\u6c42","mdFileName":"components\/httpserver\/cros.md","url":"components\/httpserver\/cros.html","level":1},{"id":36,"parent_id":18,"title":"HTTPS \u914d\u7f6e","pageTitle":"SSL","mdFileName":"components\/server\/ssl.md","url":"components\/server\/ssl.html","level":1},{"id":37,"parent_id":18,"title":"Swagger API \u6587\u6863\u751f\u6210","pageTitle":"Swagger API \u6587\u6863\u751f\u6210","mdFileName":"dev\/generate\/swagger.md","url":"dev\/generate\/swagger.html","level":1},{"id":38,"parent_id":0,"title":"WebSocket \u670d\u52a1","level":0},{"id":39,"parent_id":38,"title":"HTTP \u8def\u7531","pageTitle":"HTTP \u8def\u7531","mdFileName":"components\/websocketServer\/httpRoute.md","url":"components\/websocketServer\/httpRoute.html","level":1},{"id":40,"parent_id":38,"title":"HTTP \u63a7\u5236\u5668","pageTitle":"HTTP \u63a7\u5236\u5668","mdFileName":"components\/websocketServer\/httpController.md","url":"components\/websocketServer\/httpController.html","level":1},{"id":41,"parent_id":38,"title":"WebSocket \u8def\u7531","pageTitle":"\u8def\u7531","mdFileName":"components\/websocketServer\/route.md","url":"components\/websocketServer\/route.html","level":1},{"id":42,"parent_id":38,"title":"WebSocket \u63a7\u5236\u5668","pageTitle":"WebSocket \u63a7\u5236\u5668","mdFileName":"components\/websocketServer\/websocketController.md","url":"components\/websocketServer\/websocketController.html","level":1},{"id":43,"parent_id":38,"title":"\u4e2d\u95f4\u4ef6","pageTitle":"\u4e2d\u95f4\u4ef6","mdFileName":"components\/websocketServer\/middleware.md","url":"components\/websocketServer\/middleware.html","level":1},{"id":44,"parent_id":38,"title":"\u8fde\u63a5\u4e0a\u4e0b\u6587","pageTitle":"\u4f1a\u8bdd\u6570\u636e","mdFileName":"components\/websocketServer\/session.md","url":"components\/websocketServer\/session.html","level":1},{"id":45,"parent_id":38,"title":"\u8fde\u63a5\u5206\u7ec4","pageTitle":"\u8fde\u63a5\u5206\u7ec4","mdFileName":"components\/websocketServer\/group.md","url":"components\/websocketServer\/group.html","level":1},{"id":46,"parent_id":38,"title":"\u65ad\u7ebf\u91cd\u8fde","pageTitle":"\u65ad\u7ebf\u91cd\u8fde","mdFileName":"components\/websocketServer\/reconnect.md","url":"components\/websocketServer\/reconnect.html","level":1},{"id":47,"parent_id":38,"title":"\u4e0d\u4f7f\u7528\u4e2d\u95f4\u4ef6","pageTitle":"\u4e0d\u4f7f\u7528\u4e2d\u95f4\u4ef6","mdFileName":"components\/websocketServer\/noMiddleware.md","url":"components\/websocketServer\/noMiddleware.html","level":1},{"id":48,"parent_id":38,"title":"WSS \u914d\u7f6e","pageTitle":"SSL","mdFileName":"components\/server\/ssl.md","url":"components\/server\/ssl.html","level":1},{"id":49,"parent_id":38,"title":"\u5411\u5ba2\u6237\u7aef\u63a8\u9001\u6570\u636e","pageTitle":"\u5411\u5ba2\u6237\u7aef\u63a8\u9001\u6570\u636e","mdFileName":"components\/server\/serverPush.md","url":"components\/server\/serverPush.html","level":1},{"id":50,"parent_id":38,"title":"\u5185\u7f6e\u7684\u6570\u636e\u5904\u7406\u5668","pageTitle":"\u5185\u7f6e\u7684\u6570\u636e\u5904\u7406\u5668","mdFileName":"components\/server\/dataParser.md","url":"components\/server\/dataParser.html","level":1},{"id":51,"parent_id":0,"title":"TCP \u670d\u52a1","level":0},{"id":52,"parent_id":51,"title":"\u8def\u7531","pageTitle":"\u8def\u7531","mdFileName":"components\/tcpServer\/route.md","url":"components\/tcpServer\/route.html","level":1},{"id":53,"parent_id":51,"title":"TCP \u63a7\u5236\u5668","pageTitle":"TCP \u63a7\u5236\u5668","mdFileName":"components\/tcpServer\/controller.md","url":"components\/tcpServer\/controller.html","level":1},{"id":54,"parent_id":51,"title":"\u4e2d\u95f4\u4ef6","pageTitle":"\u4e2d\u95f4\u4ef6","mdFileName":"components\/tcpServer\/middleware.md","url":"components\/tcpServer\/middleware.html","level":1},{"id":55,"parent_id":51,"title":"\u8fde\u63a5\u4e0a\u4e0b\u6587","pageTitle":"\u4f1a\u8bdd\u6570\u636e","mdFileName":"components\/tcpServer\/session.md","url":"components\/tcpServer\/session.html","level":1},{"id":56,"parent_id":51,"title":"\u8fde\u63a5\u5206\u7ec4","pageTitle":"\u8fde\u63a5\u5206\u7ec4","mdFileName":"components\/tcpServer\/group.md","url":"components\/tcpServer\/group.html","level":1},{"id":57,"parent_id":51,"title":"\u65ad\u7ebf\u91cd\u8fde","pageTitle":"\u65ad\u7ebf\u91cd\u8fde","mdFileName":"components\/tcpServer\/reconnect.md","url":"components\/tcpServer\/reconnect.html","level":1},{"id":58,"parent_id":51,"title":"\u4e0d\u4f7f\u7528\u4e2d\u95f4\u4ef6","pageTitle":"\u4e0d\u4f7f\u7528\u4e2d\u95f4\u4ef6","mdFileName":"components\/tcpServer\/noMiddleware.md","url":"components\/tcpServer\/noMiddleware.html","level":1},{"id":59,"parent_id":51,"title":"\u5411\u5ba2\u6237\u7aef\u63a8\u9001\u6570\u636e","pageTitle":"\u5411\u5ba2\u6237\u7aef\u63a8\u9001\u6570\u636e","mdFileName":"components\/server\/serverPush.md","url":"components\/server\/serverPush.html","level":1},{"id":60,"parent_id":51,"title":"\u5185\u7f6e\u7684\u6570\u636e\u5904\u7406\u5668","pageTitle":"\u5185\u7f6e\u7684\u6570\u636e\u5904\u7406\u5668","mdFileName":"components\/server\/dataParser.md","url":"components\/server\/dataParser.html","level":1},{"id":61,"parent_id":0,"title":"UDP \u670d\u52a1","level":0},{"id":62,"parent_id":61,"title":"\u8def\u7531","pageTitle":"\u8def\u7531","mdFileName":"components\/udpServer\/route.md","url":"components\/udpServer\/route.html","level":1},{"id":63,"parent_id":61,"title":"UDP \u63a7\u5236\u5668","pageTitle":"UDP \u63a7\u5236\u5668","mdFileName":"components\/udpServer\/controller.md","url":"components\/udpServer\/controller.html","level":1},{"id":64,"parent_id":61,"title":"\u4e2d\u95f4\u4ef6","pageTitle":"\u4e2d\u95f4\u4ef6","mdFileName":"components\/udpServer\/middleware.md","url":"components\/udpServer\/middleware.html","level":1},{"id":65,"parent_id":61,"title":"\u4e0d\u4f7f\u7528\u4e2d\u95f4\u4ef6","pageTitle":"\u4e0d\u4f7f\u7528\u4e2d\u95f4\u4ef6","mdFileName":"components\/udpServer\/noMiddleware.md","url":"components\/udpServer\/noMiddleware.html","level":1},{"id":66,"parent_id":61,"title":"\u5185\u7f6e\u7684\u6570\u636e\u5904\u7406\u5668","pageTitle":"\u5185\u7f6e\u7684\u6570\u636e\u5904\u7406\u5668","mdFileName":"components\/server\/dataParser.md","url":"components\/server\/dataParser.html","level":1},{"id":67,"parent_id":0,"title":"MQTT","level":0},{"id":68,"parent_id":67,"title":"MQTT \u670d\u52a1\u7aef","pageTitle":"MQTT \u670d\u52a1\u7aef","mdFileName":"components\/mqtt\/server.md","url":"components\/mqtt\/server.html","level":1},{"id":69,"parent_id":67,"title":"MQTT \u5ba2\u6237\u7aef","pageTitle":"MQTT \u5ba2\u6237\u7aef","mdFileName":"components\/mqtt\/client.md","url":"components\/mqtt\/client.html","level":1},{"id":70,"parent_id":0,"title":"RPC \u670d\u52a1","level":0},{"id":71,"parent_id":70,"title":"Hprose","pageTitle":"Hprose","mdFileName":"components\/rpc\/hprose.md","url":"components\/rpc\/hprose.html","level":1},{"id":72,"parent_id":70,"title":"gRPC","pageTitle":"gRPC","mdFileName":"components\/rpc\/grpc.md","url":"components\/rpc\/grpc.html","level":1},{"id":73,"parent_id":0,"title":"\u6d88\u606f\u961f\u5217","level":0},{"id":74,"parent_id":73,"title":"Redis","pageTitle":"Redis \u6d88\u606f\u961f\u5217","mdFileName":"components\/mq\/redis.md","url":"components\/mq\/redis.html","level":1},{"id":75,"parent_id":73,"title":"RabbitMQ(AMQP)","pageTitle":"AMQP","mdFileName":"components\/mq\/amqp.md","url":"components\/mq\/amqp.html","level":1},{"id":76,"parent_id":73,"title":"Kafka","pageTitle":"Kafka","mdFileName":"components\/mq\/kafka.md","url":"components\/mq\/kafka.html","level":1},{"id":77,"parent_id":0,"title":"\u529f\u80fd\u7ec4\u4ef6","level":0},{"id":78,"parent_id":77,"title":"\u914d\u7f6e\u8bfb\u5199","pageTitle":"\u914d\u7f6e(Config)","mdFileName":"components\/config\/index.md","url":"components\/config\/index.html","level":1},{"id":79,"parent_id":77,"title":"\u8fde\u63a5\u6c60","pageTitle":"\u8fde\u63a5\u6c60","mdFileName":"components\/pool\/index.md","url":"components\/pool\/index.html","level":1},{"id":80,"parent_id":77,"title":"\u6570\u636e\u5e93 (Db)","pageTitle":"\u6570\u636e\u5e93","mdFileName":"components\/db\/index.md","url":"components\/db\/index.html","level":1},{"id":81,"parent_id":80,"title":"\u6570\u636e\u5e93\u64cd\u4f5c","pageTitle":"\u6570\u636e\u5e93","mdFileName":"components\/db\/index.md","url":"components\/db\/index.html","level":2},{"id":82,"parent_id":80,"title":"SQL \u76d1\u542c","pageTitle":"SQL \u76d1\u542c","mdFileName":"components\/db\/sqlListener.md","url":"components\/db\/sqlListener.html","level":2},{"id":83,"parent_id":77,"title":"ORM","pageTitle":"ORM","mdFileName":"components\/orm\/index.md","url":"components\/orm\/index.html","level":1},{"id":84,"parent_id":83,"title":"\u4f7f\u7528\u8bf4\u660e","pageTitle":"ORM","mdFileName":"components\/orm\/index.md","url":"components\/orm\/index.html","level":2},{"id":85,"parent_id":83,"title":"\u6570\u636e\u5e93\u8868\u6a21\u578b","pageTitle":"\u6570\u636e\u5e93\u8868\u6a21\u578b","mdFileName":"components\/orm\/RDModel.md","url":"components\/orm\/RDModel.html","level":2},{"id":86,"parent_id":85,"title":"\u4f7f\u7528\u65b9\u6cd5","pageTitle":"\u6570\u636e\u5e93\u8868\u6a21\u578b","mdFileName":"components\/orm\/RDModel.md","url":"components\/orm\/RDModel.html","level":3},{"id":87,"parent_id":85,"title":"\u6a21\u578b\u4e8b\u4ef6","pageTitle":"\u6a21\u578b\u4e8b\u4ef6","mdFileName":"components\/orm\/RDModel\/event.md","url":"components\/orm\/RDModel\/event.html","level":3},{"id":88,"parent_id":85,"title":"\u6811\u5f62\u8868\u6a21\u578b","pageTitle":"TreeModel","mdFileName":"components\/orm\/TreeModel.md","url":"components\/orm\/TreeModel.html","level":3},{"id":89,"parent_id":85,"title":"\u6a21\u578b\u8f6f\u5220\u9664","pageTitle":"\u6a21\u578b\u8f6f\u5220\u9664","mdFileName":"components\/orm\/softDelete.md","url":"components\/orm\/softDelete.html","level":3},{"id":90,"parent_id":83,"title":"\u6a21\u578b\u5173\u8054","pageTitle":"\u4ecb\u7ecd","mdFileName":"components\/orm\/relation\/index.md","url":"components\/orm\/relation\/index.html","level":2},{"id":91,"parent_id":90,"title":"\u4f7f\u7528\u8bf4\u660e","pageTitle":"\u4ecb\u7ecd","mdFileName":"components\/orm\/relation\/index.md","url":"components\/orm\/relation\/index.html","level":3},{"id":92,"parent_id":90,"title":"\u4e00\u5bf9\u4e00\u5173\u8054","pageTitle":"\u4e00\u5bf9\u4e00\u5173\u8054","mdFileName":"components\/orm\/relation\/oneToOne.md","url":"components\/orm\/relation\/oneToOne.html","level":3},{"id":93,"parent_id":90,"title":"\u4e00\u5bf9\u591a\u5173\u8054","pageTitle":"\u4e00\u5bf9\u591a\u5173\u8054","mdFileName":"components\/orm\/relation\/oneToMany.md","url":"components\/orm\/relation\/oneToMany.html","level":3},{"id":94,"parent_id":90,"title":"\u591a\u5bf9\u591a\u5173\u8054","pageTitle":"\u591a\u5bf9\u591a\u5173\u8054","mdFileName":"components\/orm\/relation\/manyToMany.md","url":"components\/orm\/relation\/manyToMany.html","level":3},{"id":95,"parent_id":90,"title":"\u591a\u6001\u4e00\u5bf9\u4e00\u5173\u8054","pageTitle":"\u591a\u6001\u4e00\u5bf9\u4e00\u5173\u8054","mdFileName":"components\/orm\/relation\/polymorphicOneToOne.md","url":"components\/orm\/relation\/polymorphicOneToOne.html","level":3},{"id":96,"parent_id":90,"title":"\u591a\u6001\u4e00\u5bf9\u591a\u5173\u8054","pageTitle":"\u591a\u6001\u4e00\u5bf9\u591a\u5173\u8054","mdFileName":"components\/orm\/relation\/polymorphicOneToMany.md","url":"components\/orm\/relation\/polymorphicOneToMany.html","level":3},{"id":97,"parent_id":90,"title":"\u591a\u6001\u591a\u5bf9\u591a\u5173\u8054","pageTitle":"\u591a\u6001\u591a\u5bf9\u591a\u5173\u8054","mdFileName":"components\/orm\/relation\/polymorphicManyToMany.md","url":"components\/orm\/relation\/polymorphicManyToMany.html","level":3},{"id":98,"parent_id":90,"title":"\u524d\u7f6e\u548c\u540e\u7f6e\u4e8b\u4ef6","pageTitle":"\u524d\u7f6e\u548c\u540e\u7f6e\u4e8b\u4ef6","mdFileName":"components\/orm\/relation\/events.md","url":"components\/orm\/relation\/events.html","level":3},{"id":99,"parent_id":77,"title":"Redis","pageTitle":"Redis","mdFileName":"components\/redis\/index.md","url":"components\/redis\/index.html","level":1},{"id":100,"parent_id":77,"title":"Redis \u6a21\u578b","pageTitle":"Redis \u6a21\u578b","mdFileName":"components\/orm\/RedisModel.md","url":"components\/orm\/RedisModel.html","level":1},{"id":101,"parent_id":77,"title":"\u5185\u5b58\u8868\u6a21\u578b","pageTitle":"\u5185\u5b58\u8868\u6a21\u578b","mdFileName":"components\/orm\/MemoryTableModel.md","url":"components\/orm\/MemoryTableModel.html","level":1},{"id":102,"parent_id":77,"title":"\u7f13\u5b58","pageTitle":"\u7f13\u5b58","mdFileName":"components\/cache\/index.md","url":"components\/cache\/index.html","level":1},{"id":103,"parent_id":102,"title":"\u4f7f\u7528\u8bf4\u660e","pageTitle":"\u7f13\u5b58","mdFileName":"components\/cache\/index.md","url":"components\/cache\/index.html","level":2},{"id":104,"parent_id":102,"title":"File","pageTitle":"\u6587\u4ef6\u7f13\u5b58","mdFileName":"components\/cache\/file.md","url":"components\/cache\/file.html","level":2},{"id":105,"parent_id":102,"title":"Redis","pageTitle":"Redis Cache","mdFileName":"components\/cache\/redis.md","url":"components\/cache\/redis.html","level":2},{"id":106,"parent_id":102,"title":"RedisHash","pageTitle":"Redis Cache","mdFileName":"components\/cache\/redisHash.md","url":"components\/cache\/redisHash.html","level":2},{"id":107,"parent_id":77,"title":"\u65e5\u5fd7","pageTitle":"\u65e5\u5fd7","mdFileName":"components\/log\/index.md","url":"components\/log\/index.html","level":1},{"id":108,"parent_id":77,"title":"\u9a8c\u8bc1\u5668","pageTitle":"\u9a8c\u8bc1\u5668","mdFileName":"components\/validation\/index.md","url":"components\/validation\/index.html","level":1},{"id":109,"parent_id":77,"title":"\u95e8\u9762 (Facade)","pageTitle":"\u95e8\u9762 (Facade)","mdFileName":"components\/facade\/index.md","url":"components\/facade\/index.html","level":1},{"id":110,"parent_id":77,"title":"\u8bf7\u6c42\u4e0a\u4e0b\u6587\u4ee3\u7406 (RequestContextProxy)","pageTitle":"\u8bf7\u6c42\u4e0a\u4e0b\u6587\u4ee3\u7406\uff08RequestContextProxy\uff09","mdFileName":"components\/requestContextProxy\/index.md","url":"components\/requestContextProxy\/index.html","level":1},{"id":111,"parent_id":77,"title":"Lock \u9501","pageTitle":"\u9501","mdFileName":"components\/lock\/index.md","url":"components\/lock\/index.html","level":1},{"id":112,"parent_id":111,"title":"\u4f7f\u7528\u65b9\u6cd5","pageTitle":"\u9501","mdFileName":"components\/lock\/index.md","url":"components\/lock\/index.html","level":2},{"id":113,"parent_id":111,"title":"RedisLock","pageTitle":"RedisLock","mdFileName":"components\/lock\/redis.md","url":"components\/lock\/redis.html","level":2},{"id":114,"parent_id":111,"title":"AtomicLock","pageTitle":"AtomicLock","mdFileName":"components\/lock\/atomic.md","url":"components\/lock\/atomic.html","level":2},{"id":115,"parent_id":77,"title":"\u4e8b\u4ef6\u76d1\u542c","pageTitle":"\u4e8b\u4ef6\u76d1\u542c","mdFileName":"components\/event\/index.md","url":"components\/event\/index.html","level":1},{"id":116,"parent_id":77,"title":"\u540e\u53f0\u4efb\u52a1","pageTitle":"\u540e\u53f0\u4efb\u52a1","mdFileName":"components\/task\/index.md","url":"components\/task\/index.html","level":1},{"id":117,"parent_id":77,"title":"\u5b9a\u65f6\u4efb\u52a1","pageTitle":"\u5b9a\u65f6\u4efb\u52a1","mdFileName":"components\/task\/cron.md","url":"components\/task\/cron.html","level":1},{"id":118,"parent_id":77,"title":"AOP","pageTitle":"AOP","mdFileName":"components\/aop\/index.md","url":"components\/aop\/index.html","level":1},{"id":119,"parent_id":77,"title":"\u8fdb\u7a0b","pageTitle":"\u8fdb\u7a0b","mdFileName":"components\/process\/index.md","url":"components\/process\/index.html","level":1},{"id":120,"parent_id":77,"title":"\u8fdb\u7a0b\u6c60-Swoole","pageTitle":"\u8fdb\u7a0b\u6c60-Swoole","mdFileName":"components\/process-pool\/swoole.md","url":"components\/process-pool\/swoole.html","level":1},{"id":121,"parent_id":77,"title":"\u8fdb\u7a0b\u6c60-imi","pageTitle":"\u8fdb\u7a0b\u6c60-imi","mdFileName":"components\/process-pool\/imi.md","url":"components\/process-pool\/imi.html","level":1},{"id":122,"parent_id":77,"title":"\u70ed\u66f4\u65b0","pageTitle":"\u70ed\u66f4\u65b0","mdFileName":"components\/hotupdate\/index.md","url":"components\/hotupdate\/index.html","level":1},{"id":123,"parent_id":77,"title":"\u96ea\u82b1\u7b97\u6cd5\u53d1\u53f7\u5668","pageTitle":"\u96ea\u82b1\u7b97\u6cd5\u53d1\u53f7\u5668","mdFileName":"components\/snowflake.md","url":"components\/snowflake.html","level":1},{"id":124,"parent_id":77,"title":"imi \u7ec4\u4ef6\u5217\u8868\u4e00\u89c8","pageTitle":"imi \u7ec4\u4ef6\u5217\u8868\u4e00\u89c8","mdFileName":"components\/list.md","url":"components\/list.html","level":1},{"id":125,"parent_id":124,"title":"MQTT","pageTitle":"MQTT \u670d\u52a1\u7aef","mdFileName":"components\/mqtt\/server.md","url":"components\/mqtt\/server.html","level":2},{"id":126,"parent_id":124,"title":"gRPC","pageTitle":"gRPC","mdFileName":"components\/rpc\/grpc.md","url":"components\/rpc\/grpc.html","level":2},{"id":127,"parent_id":124,"title":"Hprose","pageTitle":"Hprose","mdFileName":"components\/rpc\/hprose.md","url":"components\/rpc\/hprose.html","level":2},{"id":128,"parent_id":124,"title":"\u6d88\u606f\u961f\u5217","pageTitle":"Redis \u6d88\u606f\u961f\u5217","mdFileName":"components\/mq\/redis.md","url":"components\/mq\/redis.html","level":2},{"id":129,"parent_id":124,"title":"AMQP","pageTitle":"AMQP","mdFileName":"components\/mq\/amqp.md","url":"components\/mq\/amqp.html","level":2},{"id":130,"parent_id":124,"title":"Kafka","pageTitle":"Kafka","mdFileName":"components\/mq\/kafka.md","url":"components\/mq\/kafka.html","level":2},{"id":131,"parent_id":124,"title":"JWT","pageTitle":"JWT","mdFileName":"components\/httpserver\/jwt.md","url":"components\/httpserver\/jwt.html","level":2},{"id":132,"parent_id":124,"title":"\u6743\u9650\u63a7\u5236","pageTitle":"\u6743\u9650\u63a7\u5236","mdFileName":"components\/access-control.md","url":"components\/access-control.html","level":2},{"id":133,"parent_id":124,"title":"Smarty \u6a21\u7248\u5f15\u64ce","pageTitle":"Smarty \u6a21\u7248\u5f15\u64ce","mdFileName":"components\/smarty.md","url":"components\/smarty.html","level":2},{"id":134,"parent_id":124,"title":"\u9650\u6d41","pageTitle":"\u9650\u6d41","mdFileName":"components\/rate-limit.md","url":"components\/rate-limit.html","level":2},{"id":135,"parent_id":124,"title":"\u8de8\u8fdb\u7a0b\u53d8\u91cf\u5171\u4eab","pageTitle":"\u8de8\u8fdb\u7a0b\u53d8\u91cf\u5171\u4eab","mdFileName":"components\/shared-memory.md","url":"components\/shared-memory.html","level":2},{"id":136,"parent_id":124,"title":"\u96ea\u82b1\u7b97\u6cd5\u53d1\u53f7\u5668","pageTitle":"\u96ea\u82b1\u7b97\u6cd5\u53d1\u53f7\u5668","mdFileName":"components\/snowflake.md","url":"components\/snowflake.html","level":2},{"id":137,"parent_id":124,"title":"Swagger API \u6587\u6863\u751f\u6210","pageTitle":"Swagger API \u6587\u6863\u751f\u6210","mdFileName":"dev\/generate\/swagger.md","url":"dev\/generate\/swagger.html","level":2},{"id":138,"parent_id":124,"title":"Swoole Tracker","pageTitle":"swoole-tracker","mdFileName":"components\/swoole-tracker.md","url":"components\/swoole-tracker.html","level":2},{"id":139,"parent_id":0,"title":"\u6570\u636e\u7ed3\u6784","level":0},{"id":140,"parent_id":139,"title":"Atomic(\u539f\u5b50\u6027)","pageTitle":"Atomic","mdFileName":"components\/struct\/atomic.md","url":"components\/struct\/atomic.html","level":1},{"id":141,"parent_id":139,"title":"Channel(\u901a\u9053)","pageTitle":"\u534f\u7a0b Channel","mdFileName":"components\/struct\/co-channel.md","url":"components\/struct\/co-channel.html","level":1},{"id":142,"parent_id":139,"title":"MemoryTable(\u5185\u5b58\u8868)","pageTitle":"MemoryTable","mdFileName":"components\/struct\/memory-table.md","url":"components\/struct\/memory-table.html","level":1},{"id":143,"parent_id":139,"title":"Enum(\u679a\u4e3e)","pageTitle":"\u679a\u4e3e","mdFileName":"components\/struct\/enum.md","url":"components\/struct\/enum.html","level":1},{"id":144,"parent_id":139,"title":"ArrayData(\u6570\u7ec4\u6570\u636e)","pageTitle":"ArrayData","mdFileName":"components\/struct\/ArrayData.md","url":"components\/struct\/ArrayData.html","level":1},{"id":145,"parent_id":139,"title":"LazyArrayObject(\u667a\u80fd\u6570\u7ec4\u5bf9\u8c61)","pageTitle":"LazyArrayObject","mdFileName":"components\/struct\/LazyArrayObject.md","url":"components\/struct\/LazyArrayObject.html","level":1},{"id":146,"parent_id":139,"title":"ArrayList(\u6570\u7ec4\u5217\u8868)","pageTitle":"ArrayList","mdFileName":"components\/struct\/ArrayList.md","url":"components\/struct\/ArrayList.html","level":1},{"id":147,"parent_id":139,"title":"FilterableList(\u8fc7\u6ee4\u5668\u5217\u8868)","pageTitle":"FilterableList","mdFileName":"components\/struct\/FilterableList.md","url":"components\/struct\/FilterableList.html","level":1},{"id":148,"parent_id":0,"title":"\u5de5\u5177\u7c7b","level":0},{"id":149,"parent_id":148,"title":"App \u7c7b","pageTitle":"App \u7c7b","mdFileName":"utils\/app.md","url":"utils\/app.html","level":1},{"id":150,"parent_id":148,"title":"\u5168\u5c40\u51fd\u6570","pageTitle":"\u5168\u5c40\u51fd\u6570","mdFileName":"utils\/functions.md","url":"utils\/functions.html","level":1},{"id":151,"parent_id":148,"title":"Imi","pageTitle":"Imi","mdFileName":"utils\/Imi.md","url":"utils\/Imi.html","level":1},{"id":152,"parent_id":148,"title":"Args","pageTitle":"Args","mdFileName":"utils\/Args.md","url":"utils\/Args.html","level":1},{"id":153,"parent_id":148,"title":"ArrayUtil","pageTitle":"ArrayUtil","mdFileName":"utils\/ArrayUtil.md","url":"utils\/ArrayUtil.html","level":1},{"id":154,"parent_id":148,"title":"Bit","pageTitle":"Bit","mdFileName":"utils\/Bit.md","url":"utils\/Bit.html","level":1},{"id":155,"parent_id":148,"title":"ClassObject","pageTitle":"ClassObject","mdFileName":"utils\/ClassObject.md","url":"utils\/ClassObject.html","level":1},{"id":156,"parent_id":148,"title":"Coroutine","pageTitle":"Coroutine","mdFileName":"utils\/Coroutine.md","url":"utils\/Coroutine.html","level":1},{"id":157,"parent_id":148,"title":"File","pageTitle":"File","mdFileName":"utils\/File.md","url":"utils\/File.html","level":1},{"id":158,"parent_id":148,"title":"ObjectArrayHelper","pageTitle":"ObjectArrayHelper","mdFileName":"utils\/ObjectArrayHelper.md","url":"utils\/ObjectArrayHelper.html","level":1},{"id":159,"parent_id":148,"title":"Random","pageTitle":"Random","mdFileName":"utils\/Random.md","url":"utils\/Random.html","level":1},{"id":160,"parent_id":148,"title":"Swoole","pageTitle":"Swoole","mdFileName":"utils\/Swoole.md","url":"utils\/Swoole.html","level":1},{"id":161,"parent_id":148,"title":"Text","pageTitle":"Text","mdFileName":"utils\/Text.md","url":"utils\/Text.html","level":1},{"id":162,"parent_id":148,"title":"Pagination","pageTitle":"Pagination","mdFileName":"utils\/Pagination.md","url":"utils\/Pagination.html","level":1},{"id":163,"parent_id":148,"title":"DateTime","pageTitle":"DateTime","mdFileName":"utils\/DateTime.md","url":"utils\/DateTime.html","level":1},{"id":164,"parent_id":148,"title":"KVStorage","pageTitle":"KVStorage","mdFileName":"utils\/KVStorage.md","url":"utils\/KVStorage.html","level":1},{"id":165,"parent_id":148,"title":"ServerManage","pageTitle":"ServerManage","mdFileName":"utils\/ServerManage.md","url":"utils\/ServerManage.html","level":1},{"id":166,"parent_id":148,"title":"\u901a\u9053\u5bb9\u5668","pageTitle":"\u901a\u9053\u5bb9\u5668","mdFileName":"utils\/ChannelContainer.md","url":"utils\/ChannelContainer.html","level":1},{"id":167,"parent_id":148,"title":"\u670d\u52a1\u5668\u5de5\u5177\u7c7b","pageTitle":"\u670d\u52a1\u5668\u5de5\u5177\u7c7b","mdFileName":"utils\/Server.md","url":"utils\/Server.html","level":1},{"id":168,"parent_id":0,"title":"\u6ce8\u89e3","level":0},{"id":169,"parent_id":168,"title":"\u6ce8\u5165\u503c\u6ce8\u89e3","pageTitle":"\u6ce8\u5165\u503c\u6ce8\u89e3","mdFileName":"annotations\/injectValue.md","url":"annotations\/injectValue.html","level":1},{"id":170,"parent_id":168,"title":"\u65b9\u6cd5\u53c2\u6570\u8fc7\u6ee4\u5668","pageTitle":"\u65b9\u6cd5\u53c2\u6570\u8fc7\u6ee4\u5668","mdFileName":"annotations\/filterArg.md","url":"annotations\/filterArg.html","level":1},{"id":171,"parent_id":168,"title":"\u7f16\u5199\u81ea\u5b9a\u4e49\u6ce8\u89e3","pageTitle":"\u7f16\u5199\u81ea\u5b9a\u4e49\u6ce8\u89e3","mdFileName":"annotations\/annotation.md","url":"annotations\/annotation.html","level":1},{"id":172,"parent_id":168,"title":"\u6ce8\u89e3\u7ba1\u7406\u5668","pageTitle":"\u6ce8\u89e3\u7ba1\u7406\u5668","mdFileName":"annotations\/annotationManager.md","url":"annotations\/annotationManager.html","level":1},{"id":173,"parent_id":168,"title":"\u6ce8\u89e3\u76f8\u5173\u95ee\u9898","pageTitle":"\u6ce8\u89e3\u76f8\u5173\u95ee\u9898","mdFileName":"annotations\/qa.md","url":"annotations\/qa.html","level":1},{"id":174,"parent_id":0,"title":"\u5f00\u53d1\u5de5\u5177","level":0},{"id":175,"parent_id":174,"title":"\u4ecb\u7ecd","pageTitle":"\u4ecb\u7ecd","mdFileName":"dev\/intro.md","url":"dev\/intro.html","level":1},{"id":176,"parent_id":174,"title":"\u670d\u52a1\u5668\u5de5\u5177","pageTitle":"\u670d\u52a1\u5668\u5de5\u5177","mdFileName":"dev\/server.md","url":"dev\/server.html","level":1},{"id":177,"parent_id":174,"title":"\u751f\u6210\u5de5\u5177","pageTitle":"\u751f\u6210\u5de5\u5177","mdFileName":"dev\/generate.md","url":"dev\/generate.html","level":1},{"id":178,"parent_id":177,"title":"\u6a21\u578b\u751f\u6210","pageTitle":"\u6a21\u578b\u751f\u6210","mdFileName":"dev\/generate\/model.md","url":"dev\/generate\/model.html","level":2},{"id":179,"parent_id":177,"title":"\u8868\u751f\u6210","pageTitle":"\u8868\u751f\u6210","mdFileName":"dev\/generate\/table.md","url":"dev\/generate\/table.html","level":2},{"id":180,"parent_id":177,"title":"\u63a7\u5236\u5668\u751f\u6210","pageTitle":"\u63a7\u5236\u5668\u751f\u6210","mdFileName":"dev\/generate\/controller.md","url":"dev\/generate\/controller.html","level":2},{"id":181,"parent_id":174,"title":"\u8fdb\u7a0b\u5de5\u5177","pageTitle":"\u8fdb\u7a0b\u5de5\u5177","mdFileName":"dev\/process.md","url":"dev\/process.html","level":1},{"id":182,"parent_id":174,"title":"\u81ea\u5df1\u52a8\u624b\u5f00\u53d1\u547d\u4ee4\u884c\u5de5\u5177","pageTitle":"\u81ea\u5df1\u52a8\u624b\u5f00\u53d1\u547d\u4ee4\u884c\u5de5\u5177","mdFileName":"dev\/tool.md","url":"dev\/tool.html","level":1},{"id":183,"parent_id":0,"title":"\u8fdb\u9636\u5f00\u53d1","level":0},{"id":184,"parent_id":183,"title":"\u65ad\u70b9\u8c03\u8bd5","pageTitle":"\u65ad\u70b9\u8c03\u8bd5","mdFileName":"adv\/debug.md","url":"adv\/debug.html","level":1},{"id":185,"parent_id":183,"title":"\u6027\u80fd\u4f18\u5316","pageTitle":"\u6027\u80fd\u4f18\u5316","mdFileName":"adv\/performance.md","url":"adv\/performance.html","level":1},{"id":186,"parent_id":183,"title":"\u5e2e\u52a9 imi \u53d8\u5f97\u66f4\u597d","pageTitle":"\u53c2\u4e0e\u6846\u67b6\u5f00\u53d1","mdFileName":"adv\/devp.md","url":"adv\/devp.html","level":1},{"id":187,"parent_id":0,"title":"\u751f\u4ea7\u73af\u5883","level":0},{"id":188,"parent_id":187,"title":"Docker","pageTitle":"Docker","mdFileName":"production\/docker.md","url":"production\/docker.html","level":1},{"id":189,"parent_id":187,"title":"\u5b88\u62a4\u8fdb\u7a0b","pageTitle":"\u5b88\u62a4\u8fdb\u7a0b","mdFileName":"production\/daemon.md","url":"production\/daemon.html","level":1},{"id":190,"parent_id":0,"title":"Swoole \u534f\u7a0b\u5316\u7ec4\u4ef6","level":0},{"id":191,"parent_id":190,"title":"Guzzle","pageTitle":"Guzzle","mdFileName":"other\/guzzle.md","url":"other\/guzzle.html","level":1},{"id":192,"parent_id":190,"title":"ElasticSearch","pageTitle":"ElasticSearch","mdFileName":"other\/elasticsearch.md","url":"other\/elasticsearch.html","level":1},{"id":193,"parent_id":190,"title":"YurunHttp","pageTitle":"YurunHttp","mdFileName":"other\/yurunhttp.md","url":"other\/yurunhttp.html","level":1},{"id":194,"parent_id":190,"title":"\u7b2c\u4e09\u65b9\u6388\u6743 SDK","pageTitle":"\u7b2c\u4e09\u65b9\u6388\u6743 SDK","mdFileName":"other\/yurun-oauth-login.md","url":"other\/yurun-oauth-login.html","level":1},{"id":195,"parent_id":190,"title":"\u7b2c\u4e09\u65b9\u652f\u4ed8 SDK","pageTitle":"\u7b2c\u4e09\u65b9\u652f\u4ed8 SDK","mdFileName":"other\/paysdk.md","url":"other\/paysdk.html","level":1}];
                    for(var i = 0; i < catalogList.length; ++i)
                    {
                        if(void 0 !== catalogList[i].url)
                        {
                            catalogList[i] = parseCatalogItem(catalogList[i]);
                        }
                    }
                    initTree(catalogList);
                </script>
                <h1 id="数据库"><a href="#数据库">数据库</a></h1><p>数据库连接池配置方式已经在连接池里讲过，这里就不重复了，直接说使用方法。</p><h2 id="连接池配置"><a href="#连接池配置">连接池配置</a></h2><p>标准写法：</p><blockquote>从 imi v1.2.1 版本开始支持</blockquote><pre><code class="php">&lt;?php
return [
    &#039;db&#039;    =&gt; [
        &#039;defaultPool&#039;   =&gt; &#039;alias1&#039;, // 默认连接池
        &#039;statement&#039;     =&gt;  [
            &#039;cache&#039; =&gt;  true, // 是否开启 statement 缓存，默认开启
        ],
    ],
    &#039;pools&#039; =&gt; [
        // 连接池名称
        &#039;alias1&#039; =&gt; [
            &#039;pool&#039; =&gt; [
                // 同步池类名
                &#039;syncClass&#039;     =&gt;    \Imi\Db\Pool\SyncDbPool::class,
                // 协程池类名
                &#039;asyncClass&#039;    =&gt;    \Imi\Db\Pool\CoroutineDbPool::class,
                // 连接池配置
                &#039;config&#039; =&gt; [
                    // 池子中最多资源数
                    // &#039;maxResources&#039; =&gt; 10,
                    // 池子中最少资源数
                    // &#039;minResources&#039; =&gt; 2,
                    // 资源回收时间间隔，单位：秒
                    // &#039;gcInterval&#039; =&gt; 60,
                    // 获取资源最大存活时间，单位：秒
                    // &#039;maxActiveTime&#039; =&gt; 3600,
                    // 等待资源最大超时时间，单位：毫秒
                    // &#039;waitTimeout&#039; =&gt; 3000,
                    // 心跳时间间隔，单位：秒
                    // &#039;heartbeatInterval&#039; =&gt; null,
                    // 当获取资源时，是否检查状态
                    // &#039;checkStateWhenGetResource&#039; =&gt; true,
                    // 每次获取资源最长使用时间，单位：秒；为 null 则不限制
                    // &#039;maxUsedTime&#039; =&gt; null,
                    // 当前请求上下文资源检查状态间隔，单位：支持小数的秒；为 null 则不限制
                    // &#039;requestResourceCheckInterval&#039; =&gt; 30,
                    // 负载均衡-轮流
                    // &#039;resourceConfigMode&#039; =&gt; ResourceConfigMode::TURN,
                    // 负载均衡-随机
                    // &#039;resourceConfigMode&#039; =&gt; ResourceConfigMode::RANDOM,
                ],
            ],
            // 连接池资源配置
            &#039;resource&#039; =&gt; [
                &#039;host&#039; =&gt; &#039;127.0.0.1&#039;,
                &#039;username&#039; =&gt; &#039;root&#039;,
                &#039;password&#039; =&gt; &#039;root&#039;,
                &#039;database&#039; =&gt; &#039;database&#039;,
                // &#039;port&#039;    =&gt; &#039;3306&#039;,
                // &#039;timeout&#039; =&gt; &#039;建立连接超时时间&#039;,
                // &#039;charset&#039; =&gt; &#039;&#039;,
                // 使用 hook pdo 驱动（缺省默认）
                // &#039;dbClass&#039; =&gt; \Imi\Db\Drivers\PdoMysql\Driver::class,
                // 使用 hook mysqli 驱动
                // &#039;dbClass&#039; =&gt; \Imi\Db\Drivers\Mysqli\Driver::class,
                // 使用 Swoole MySQL 驱动
                // &#039;dbClass&#039; =&gt; \Imi\Db\Drivers\Swoole\Driver::class,
                // 数据库连接后，执行初始化的 SQL
                // &#039;initSqls&#039; =&gt; [
                //     &#039;select 1&#039;,
                //     &#039;select 2&#039;,
                // ],
            ],
            // uri 写法
            // &#039;resource&#039;  =&gt;  [
            //     &#039;tcp://192.168.0.222/?username=root&amp;password=root&amp;database=db_test&amp;timeout=60&#039;,
            //     &#039;tcp://192.168.0.222/?username=root&amp;password=root&amp;database=db_test&amp;timeout=60&#039;,
            // ],
            // &#039;resource&#039;  =&gt;  &#039;tcp://192.168.0.222/?username=root&amp;password=root&amp;database=db_test&amp;timeout=60;tcp://192.168.0.222/?username=root&amp;password=root&amp;database=db_test&amp;timeout=60&#039;,
        ],
        // 从库配置
        // 原连接池名后加.slave即为从库配置，非必设
        // 如果配置了，默认查询走从库，增删改走主库
        // 如果在事务中，默认都走主库
        &#039;alias1.slave&#039; =&gt; [
            &#039;pool&#039; =&gt; [
                // 同步池类名
                &#039;syncClass&#039;     =&gt;    \Imi\Db\Pool\SyncDbPool::class,
                // 协程池类名
                &#039;asyncClass&#039;    =&gt;    \Imi\Db\Pool\CoroutineDbPool::class,
                // 连接池配置
                &#039;config&#039; =&gt; [
                    // 池子中最多资源数
                    // &#039;maxResources&#039; =&gt; 10,
                    // 池子中最少资源数
                    // &#039;minResources&#039; =&gt; 2,
                    // 资源回收时间间隔，单位：秒
                    // &#039;gcInterval&#039; =&gt; 60,
                    // 获取资源最大存活时间，单位：秒
                    // &#039;maxActiveTime&#039; =&gt; 3600,
                    // 等待资源最大超时时间，单位：毫秒
                    // &#039;waitTimeout&#039; =&gt; 3000,
                    // 心跳时间间隔，单位：秒
                    // &#039;heartbeatInterval&#039; =&gt; null,
                    // 当获取资源时，是否检查状态
                    // &#039;checkStateWhenGetResource&#039; =&gt; true,
                    // 每次获取资源最长使用时间，单位：秒；为 null 则不限制
                    // &#039;maxUsedTime&#039; =&gt; null,
                    // 当前请求上下文资源检查状态间隔，单位：支持小数的秒；为 null 则不限制
                    // &#039;requestResourceCheckInterval&#039; =&gt; 30,
                    // 负载均衡-轮流
                    // &#039;resourceConfigMode&#039; =&gt; ResourceConfigMode::TURN,
                    // 负载均衡-随机
                    // &#039;resourceConfigMode&#039; =&gt; ResourceConfigMode::RANDOM,
                ],
            ],
            // 连接池资源配置
            &#039;resource&#039; =&gt; [
                &#039;host&#039; =&gt; &#039;127.0.0.1&#039;,
                &#039;username&#039; =&gt; &#039;root&#039;,
                &#039;password&#039; =&gt; &#039;root&#039;,
                &#039;database&#039; =&gt; &#039;database&#039;,
                // &#039;port&#039;    =&gt; &#039;3306&#039;,
                // &#039;timeout&#039; =&gt; &#039;建立连接超时时间&#039;,
                // &#039;charset&#039; =&gt; &#039;&#039;,
                // 使用 hook pdo 驱动（缺省默认）
                // &#039;dbClass&#039; =&gt; \Imi\Db\Drivers\PdoMysql\Driver::class,
                // 使用 hook mysqli 驱动
                // &#039;dbClass&#039; =&gt; \Imi\Db\Drivers\Mysqli\Driver::class,
                // 使用 Swoole MySQL 驱动
                // &#039;dbClass&#039; =&gt; \Imi\Db\Drivers\Swoole\Driver::class,
                // 数据库连接后，执行初始化的 SQL
                // &#039;initSqls&#039; =&gt; [
                //     &#039;select 1&#039;,
                //     &#039;select 2&#039;,
                // ],
            ],
            // uri 写法
            // &#039;resource&#039;  =&gt;  [
            //     &#039;tcp://192.168.0.222/?username=root&amp;password=root&amp;database=db_test&amp;timeout=60&#039;,
            //     &#039;tcp://192.168.0.222/?username=root&amp;password=root&amp;database=db_test&amp;timeout=60&#039;,
            // ],
            // &#039;resource&#039;  =&gt;  &#039;tcp://192.168.0.222/?username=root&amp;password=root&amp;database=db_test&amp;timeout=60;tcp://192.168.0.222/?username=root&amp;password=root&amp;database=db_test&amp;timeout=60&#039;,
        ]
    ],
];</code></pre><p>旧写法：</p><blockquote>依然支持，但不再推荐</blockquote><pre><code class="php">&lt;?php
return [
    &#039;db&#039;    =&gt; [
        &#039;defaultPool&#039;   =&gt; &#039;alias1&#039;, // 默认连接池
        &#039;statement&#039;     =&gt;  [
            &#039;cache&#039; =&gt;  true, // 是否开启 statement 缓存，默认开启
        ],
    ],
    &#039;pools&#039; =&gt; [
        // 连接池名称
        &#039;alias1&#039; =&gt; [
            // 同步池子，task进程使用
            &#039;sync&#039; =&gt; [
                &#039;pool&#039; =&gt; [
                    &#039;class&#039; =&gt; \Imi\Db\Pool\SyncDbPool::class,
                    &#039;config&#039; =&gt; [
                        // 池子中最多资源数
                        // &#039;maxResources&#039; =&gt; 10,
                        // 池子中最少资源数
                        // &#039;minResources&#039; =&gt; 2,
                        // 资源回收时间间隔，单位：秒
                        // &#039;gcInterval&#039; =&gt; 60,
                        // 获取资源最大存活时间，单位：秒
                        // &#039;maxActiveTime&#039; =&gt; 3600,
                        // 等待资源最大超时时间，单位：毫秒
                        // &#039;waitTimeout&#039; =&gt; 3000,
                        // 心跳时间间隔，单位：秒
                        // &#039;heartbeatInterval&#039; =&gt; null,
                        // 当获取资源时，是否检查状态
                        // &#039;checkStateWhenGetResource&#039; =&gt; true,
                        // 每次获取资源最长使用时间，单位：秒；为 null 则不限制
                        // &#039;maxUsedTime&#039; =&gt; null,
                        // 当前请求上下文资源检查状态间隔，单位：支持小数的秒；为 null 则不限制
                        // &#039;requestResourceCheckInterval&#039; =&gt; 30,
                        // 负载均衡-轮流
                        // &#039;resourceConfigMode&#039; =&gt; ResourceConfigMode::TURN,
                        // 负载均衡-随机
                        // &#039;resourceConfigMode&#039; =&gt; ResourceConfigMode::RANDOM,
                    ],
                ],
                &#039;resource&#039; =&gt; [
                    &#039;host&#039; =&gt; &#039;127.0.0.1&#039;,
                    &#039;username&#039; =&gt; &#039;root&#039;,
                    &#039;password&#039; =&gt; &#039;root&#039;,
                    &#039;database&#039; =&gt; &#039;database&#039;,
                    // &#039;port&#039;    =&gt; &#039;3306&#039;,
                    // &#039;timeout&#039; =&gt; &#039;建立连接超时时间&#039;,
                    // &#039;charset&#039; =&gt; &#039;&#039;,
                    // &#039;strict_type&#039; =&gt; false, //开启严格模式，返回的字段将自动转为数字类型
                    // 使用 hook pdo 驱动（缺省默认）
                    // &#039;dbClass&#039; =&gt; \Imi\Db\Drivers\PdoMysql\Driver::class,
                    // 使用 hook mysqli 驱动
                    // &#039;dbClass&#039; =&gt; \Imi\Db\Drivers\Mysqli\Driver::class,
                    // 使用 Swoole MySQL 驱动
                    // &#039;dbClass&#039; =&gt; \Imi\Db\Drivers\Swoole\Driver::class,
                    // 数据库连接后，执行初始化的 SQL
                    // &#039;initSqls&#039; =&gt; [
                    //     &#039;select 1&#039;,
                    //     &#039;select 2&#039;,
                    // ],
                ],
            ],
            // 异步池子，worker进程使用
            &#039;async&#039; =&gt; [
                &#039;pool&#039;    =&gt;    [
                    &#039;class&#039;        =&gt;    \Imi\Db\Pool\CoroutineDbPool::class,
                    &#039;config&#039;    =&gt;    [
                        // 同上
                    ],
                ],
                // resource也可以定义多个连接
                &#039;resource&#039;    =&gt;    [
                    [
                        &#039;host&#039;        =&gt; &#039;127.0.0.1&#039;,
                        &#039;username&#039;        =&gt; &#039;root&#039;,
                        &#039;password&#039;    =&gt; &#039;root&#039;,
                        &#039;database&#039;    =&gt; &#039;database&#039;,
                        // &#039;timeout&#039; =&gt; &#039;建立连接超时时间&#039;,
                        // &#039;charset&#039; =&gt; &#039;&#039;,
                        // &#039;options&#039; =&gt; [], // PDO连接选项
                        // 使用 hook pdo 驱动（缺省默认）
                        // &#039;dbClass&#039; =&gt; \Imi\Db\Drivers\PdoMysql\Driver::class,
                        // 使用 hook mysqli 驱动
                        // &#039;dbClass&#039; =&gt; \Imi\Db\Drivers\Mysqli\Driver::class,
                        // 使用 Swoole MySQL 驱动
                        // &#039;dbClass&#039; =&gt; \Imi\Db\Drivers\Swoole\Driver::class,
                        // 数据库连接后，执行初始化的 SQL
                        // &#039;initSqls&#039; =&gt; [
                        //     &#039;select 1&#039;,
                        //     &#039;select 2&#039;,
                        // ],
                    ],
                    [
                        &#039;host&#039;        =&gt; &#039;127.0.0.2&#039;,
                        &#039;username&#039;        =&gt; &#039;root&#039;,
                        &#039;password&#039;    =&gt; &#039;root&#039;,
                        &#039;database&#039;    =&gt; &#039;database&#039;,
                        // &#039;timeout&#039; =&gt; &#039;建立连接超时时间&#039;,
                        // &#039;charset&#039; =&gt; &#039;&#039;,
                        // &#039;options&#039; =&gt; [], // PDO连接选项
                        // 使用 hook pdo 驱动（缺省默认）
                        // &#039;dbClass&#039; =&gt; \Imi\Db\Drivers\PdoMysql\Driver::class,
                        // 使用 hook mysqli 驱动
                        // &#039;dbClass&#039; =&gt; \Imi\Db\Drivers\Mysqli\Driver::class,
                        // 使用 Swoole MySQL 驱动
                        // &#039;dbClass&#039; =&gt; \Imi\Db\Drivers\Swoole\Driver::class,
                        // 数据库连接后，执行初始化的 SQL
                        // &#039;initSqls&#039; =&gt; [
                        //     &#039;select 1&#039;,
                        //     &#039;select 2&#039;,
                        // ],
                    ]
                ],
            ],
        ],
        // 从库配置
        // 原连接池名后加.slave即为从库配置，非必设
        // 如果配置了，默认查询走从库，增删改走主库
        // 如果在事务中，默认都走主库
        &#039;alias1.slave&#039; =&gt; [
            // 同步池子，task进程使用
            &#039;sync&#039; =&gt; [
                &#039;pool&#039; =&gt; [
                    &#039;class&#039; =&gt; \Imi\Db\Pool\SyncDbPool::class,
                    &#039;config&#039; =&gt; [
                        // 池子中最多资源数
                        // &#039;maxResources&#039; =&gt; 10,
                        // 池子中最少资源数
                        // &#039;minResources&#039; =&gt; 2,
                        // 资源回收时间间隔，单位：秒
                        // &#039;gcInterval&#039; =&gt; 60,
                        // 获取资源最大存活时间，单位：秒
                        // &#039;maxActiveTime&#039; =&gt; 3600,
                        // 等待资源最大超时时间，单位：毫秒
                        // &#039;waitTimeout&#039; =&gt; 3000,
                    ],
                ],
                &#039;resource&#039; =&gt; [
                    &#039;host&#039; =&gt; &#039;127.0.0.1&#039;,
                    &#039;username&#039; =&gt; &#039;root&#039;,
                    &#039;password&#039; =&gt; &#039;root&#039;,
                    &#039;database&#039; =&gt; &#039;database&#039;,
                    // &#039;port&#039;    =&gt; &#039;3306&#039;,
                    // &#039;timeout&#039; =&gt; &#039;建立连接超时时间&#039;,
                    // &#039;charset&#039; =&gt; &#039;&#039;,
                    // &#039;strict_type&#039; =&gt; false, //开启严格模式，返回的字段将自动转为数字类型
                    // 数据库连接后，执行初始化的 SQL
                    // &#039;initSqls&#039; =&gt; [
                    //     &#039;select 1&#039;,
                    //     &#039;select 2&#039;,
                    // ],
                ],
            ],
            // 异步池子，worker进程使用
            &#039;async&#039; =&gt; [
                &#039;pool&#039;    =&gt;    [
                    &#039;class&#039;        =&gt;    \Imi\Db\Pool\CoroutineDbPool::class,
                    &#039;config&#039;    =&gt;    [
                        // 同上
                    ],
                ],
                &#039;resource&#039;    =&gt;    [
                    &#039;host&#039;        =&gt; &#039;127.0.0.1&#039;,
                    &#039;username&#039;        =&gt; &#039;root&#039;,
                    &#039;password&#039;    =&gt; &#039;root&#039;,
                    &#039;database&#039;    =&gt; &#039;database&#039;,
                    // &#039;timeout&#039; =&gt; &#039;建立连接超时时间&#039;,
                    // &#039;charset&#039; =&gt; &#039;&#039;,
                    // &#039;options&#039; =&gt; [], // PDO连接选项
                    // 数据库连接后，执行初始化的 SQL
                    // &#039;initSqls&#039; =&gt; [
                    //     &#039;select 1&#039;,
                    //     &#039;select 2&#039;,
                    // ],
                ],
                // uri 写法
                // &#039;resource&#039;  =&gt;  [
                //     &#039;tcp://192.168.0.222/?username=root&amp;password=root&amp;database=db_test&amp;timeout=60&#039;,
                //     &#039;tcp://192.168.0.222/?username=root&amp;password=root&amp;database=db_test&amp;timeout=60&#039;,
                // ],
                // &#039;resource&#039;  =&gt;  &#039;tcp://192.168.0.222/?username=root&amp;password=root&amp;database=db_test&amp;timeout=60;tcp://192.168.0.222/?username=root&amp;password=root&amp;database=db_test&amp;timeout=60&#039;,
            ],
        ]
    ],
];</code></pre><h2 id="Db 驱动对象操作"><a href="#Db 驱动对象操作">Db 驱动对象操作</a></h2><p>用于直接执行 SQL</p><pre><code class="php">// 获取新的数据库连接实例
$db = Db::getNewInstance();
// 读库
$db = Db::getNewInstance($poolName, QueryType::READ);
// 写库
$db = Db::getNewInstance($poolName, QueryType::WRITE);

// 获取数据库连接实例，每个RequestContext中共用一个
$db = Db::getInstance();
// 读库
$db = Db::getInstance($poolName, QueryType::READ);
// 写库
$db = Db::getInstance($poolName, QueryType::WRITE);

// 释放连接，回归连接池
Db::release($db);

$returnValue = Db::use(function(IDb $db){
    // 操作 $db
    return &#039;imi&#039;;
}); // imi</code></pre><h3 id="方法"><a href="#方法">方法</a></h3><pre><code class="php">/**
 * 打开
 * @return boolean
 */
public function open();

/**
 * 关闭
 * @return void
 */
public function close();

/**
 * 是否已连接
 * @return boolean
 */
public function isConnected(): bool;

/**
 * 启动一个事务
 * @return boolean
 */
public function beginTransaction(): bool;

/**
 * 提交一个事务
 * @return boolean
 */
public function commit(): bool;

/**
 * 回滚事务
 * 支持设置回滚事务层数，如果不设置则为全部回滚
 * @param int $levels
 * @return boolean
 */
public function rollBack($levels = null): bool;

/**
 * 获取事务层数
 *
 * @return int
 */
public function getTransactionLevels(): int;

/**
 * 返回错误码
 * @return mixed
 */
public function errorCode();

/**
 * 返回错误信息
 * @return array
 */
public function errorInfo(): string;

/**
 * 获取最后一条执行的SQL语句
 * @return string
 */
public function lastSql();

/**
 * 执行一条 SQL 语句，并返回受影响的行数
 *
 * @param string $sql
 *
 * @return integer
 */
public function exec(string $sql): int;

/**
 * 批量执行 SQL，返回查询结果
 *
 * @param string $sql
 * @return array
 */
public function batchExec(string $sql): array;

/**
 * 取回一个数据库连接的属性
 *
 * @param mixed $attribute
 *
 * @return mixed
 */
public function getAttribute($attribute);

/**
 * 设置属性
 *
 * @param mixed $attribute
 * @param mixed $value
 *
 * @return bool
 */
public function setAttribute($attribute, $value);

/**
 * 检查是否在一个事务内
 * @return bool
 */
public function inTransaction(): bool;

/**
 * 返回最后插入行的ID或序列值
 *
 * @param string $name
 *
 * @return string
 */
public function lastInsertId(string $name = null);

/**
 * 返回受上一个 SQL 语句影响的行数
 * @return int
 */
public function rowCount(): int;

/**
 * 准备执行语句并返回一个语句对象
 *
 * @param string $sql
 * @param array  $driverOptions
 *
 * @return IStatement|bool
 */
public function prepare(string $sql, array $driverOptions = []);

/**
 * 执行一条SQL语句，返回一个结果集作为PDOStatement对象
 *
 * @param string $sql
 *
 * @return IStatement|bool
 */
public function query(string $sql);

/**
 * 获取原对象实例
 * @return object
 */
public function getInstance();

/**
 * Get 事务管理
 *
 * @return \Imi\Db\Transaction\Transaction
 */ 
public function getTransaction();</code></pre><h2 id="查询构建器"><a href="#查询构建器">查询构建器</a></h2><p>imi 中数据库查询连贯操作都来自于查询器，查询器的创建方式：</p><pre><code class="php">use Imi\Db\Db;
$query = Db::query();</code></pre><h3 id="事务"><a href="#事务">事务</a></h3><p>手动控制事务：</p><pre><code class="php">// 开启事务
Db::getInstance()-&gt;beginTransaction();
// 提交事务
Db::getInstance()-&gt;commit();
// 回滚事务
Db::getInstance()-&gt;rollBack();</code></pre><p>获取连接顺带自动开启/提交/回滚事务：</p><pre><code class="php">Db::transUse(function(IDb $db){

});
Db::transUse(function(IDb $db){

}, $poolName, QueryType::WRITE);</code></pre><blockquote><code>Db::transUse()</code> 不能在回调中使用模型</blockquote><p>获取连接后，想要使用某个连接，执行事务操作，自动开启/提交/回滚事务：</p><pre><code class="php">$db = Db::getInstance();
Db::trans($db, function(IDb $db){

});</code></pre><blockquote>可以使用模型</blockquote><p>使用回调来使用当前上下文中的资源：</p><pre><code class="php">Db::transContext(function(IDb $db){

});
Db::transContext(function(IDb $db){

}, $poolName, QueryType::WRITE);</code></pre><blockquote>可以使用模型</blockquote><p><strong>自动事务处理</strong></p><p><code>@Transaction</code> 注解，类：<code>Imi\Db\Annotation\Transaction</code></p><p>这个注解可以加在任意方法上，在方法调用前开启事务，在方法中抛出异常时回滚事务，方法成功返回时提交事务。</p><p><code>@Transaction</code></p><p><code>@Transaction(autoCommit=&quot;自动提交事务true/false，默认为true&quot;)</code></p><p>事务类型：</p><p>事务嵌套（默认）</p><p><code>@Transaction(type=TransactionType::NESTING)</code></p><p>该方法必须在事务中被调用</p><p><code>@Transaction(type=TransactionType::REQUIREMENT)</code></p><p>如果当前不在事务中则开启事务</p><p><code>@Transaction(type=TransactionType::AUTO)</code></p><p>部分回滚：</p><p><code>@Transaction(rollbackType=RollbackType::PART, rollbackLevels=&quot;回滚层数，默认为1&quot;)</code></p><p><strong>事务监听</strong></p><p>监听提交事务：</p><pre><code class="php">$db = Db::getInstance();
$db-&gt;getTransaction()-&gt;onTransactionCommit(function($param){
    $data = $param-&gt;getData();
    $db = $data[&#039;db&#039;];
    $level = $data[&#039;level&#039;]; // 第几层事务，支持事务嵌套
});</code></pre><p>监听回滚事务：</p><pre><code class="php">$db = Db::getInstance();
$db-&gt;getTransaction()-&gt;onTransactionRollback(function($param){
    $data = $param-&gt;getData();
    $db = $data[&#039;db&#039;];
    $level = $data[&#039;level&#039;]; // 第几层事务，支持事务嵌套
});</code></pre><h3 id="指定表 (table/from)"><a href="#指定表 (table/from)">指定表 (table/from)</a></h3><pre><code class="php">// 指定表名
Db::query()-&gt;table(&#039;tb_test&#039;);
// 指定表名并且设置别名
Db::query()-&gt;table(&#039;tb_test&#039;, &#039;test&#039;);
// 指定表名和数据库名
Db::query()-&gt;table(&#039;tb_test&#039;, null, &#039;db1&#039;);
// 传入参数原样代入到SQL中
Db::query()-&gt;tableRaw(&#039;tb_test&#039;);</code></pre><blockquote><code>table()</code> 和 <code>tableRaw()</code> 也可以使用 <code>from()</code> 和 <code>fromRaw()</code> 代替。</blockquote><h3 id="distinct"><a href="#distinct">distinct</a></h3><pre><code class="php">// 结果唯一
Db::query()-&gt;distinct();
// 结果不唯一
Db::query()-&gt;distinct(false);</code></pre><h3 id="指定字段 (field)"><a href="#指定字段 (field)">指定字段 (field)</a></h3><pre><code class="php">// 指定一个字段
Db::query()-&gt;field(&#039;id&#039;);

// 指定多个字段，也支持设置别名。空格和as都支持
Db::query()-&gt;field(&#039;id&#039;, &#039;name1 name&#039;, &#039;age1 as age&#039;);

// 和上面的用法等同
Db::query()-&gt;field([&#039;id&#039;, &#039;name1 name&#039;, &#039;age1 as age&#039;]);

// 传入参数原样代入到SQL中
Db::query()-&gt;fieldRaw(&#039;id, name1 name, age1 as age&#039;);</code></pre><h3 id="条件 where"><a href="#条件 where">条件 where</a></h3><h4 id="where"><a href="#where">where</a></h4><pre><code class="php">// id = 1
Db::query()-&gt;where(&#039;id&#039;, &#039;=&#039;, 1);

// id &gt; 1
Db::query()-&gt;where(&#039;id&#039;, &#039;&gt;&#039;, 1);

// title like &#039;%test%&#039;
Db::query()-&gt;where(&#039;title&#039;, &#039;like&#039;, &#039;%test%&#039;);

// id between 1 and 10
Db::query()-&gt;where(&#039;id&#039;, &#039;between&#039;, [1, 10]);

// id not between 1 and 10
Db::query()-&gt;where(&#039;id&#039;, &#039;not between&#039;, [1, 10]);

// or id = 1
Db::query()-&gt;where(&#039;id&#039;, &#039;=&#039;, 1, &#039;or&#039;);
Db::query()-&gt;orWhere(&#039;id&#039;, &#039;=&#039;, 1);

// JSON 类型字段条件
Db::query()-&gt;where(&#039;field1-&gt;uid&#039;, &#039;=&#039;, 1);</code></pre><h4 id="TP 风格 where"><a href="#TP 风格 where">TP 风格 where</a></h4><pre><code class="php">// select * from `tb_test` where (`id` = 1 or (`id` = 2 ) and `title` like &#039;%test%&#039; and `age` &gt; 18 and (`id` = 2 or (`id` = 3 ) ) )
Db::query()-&gt;from(&#039;tb_test&#039;)-&gt;whereEx([
    &#039;id&#039;    =&gt;    1,
    &#039;or&#039;    =&gt;    [
        &#039;id&#039;    =&gt;    2,
    ],
    &#039;title&#039;    =&gt;    [&#039;like&#039;, &#039;%test%&#039;],
    &#039;age&#039;    =&gt;    [&#039;&gt;&#039;, 18],
    &#039;and&#039;   =&gt;  [
        &#039;id&#039;    =&gt;  2,
        &#039;or&#039;    =&gt;  [
            &#039;id&#039;    =&gt;  3,
        ]
    ]
]);</code></pre><h4 id="whereRaw"><a href="#whereRaw">whereRaw</a></h4><pre><code class="php">// 传入参数原样代入到SQL中
Db::query()-&gt;whereRaw(&#039;id &gt;= 1&#039;);
// 传入参数原样代入到SQL中，并且为or条件
Db::query()-&gt;whereRaw(&#039;id &gt;= 1&#039;, &#039;or&#039;);
Db::query()-&gt;orWhereRaw(&#039;id &gt;= 1&#039;);</code></pre><h4 id="whereBrackets"><a href="#whereBrackets">whereBrackets</a></h4><pre><code class="php">// where id = 1 or (age &lt; 14)
Db::query()-&gt;where(&#039;id&#039;, &#039;=&#039;, 1)-&gt;whereBrackets(function(){
    // 直接返回字符串
    return &#039;age &lt; 14&#039;;
}, &#039;or&#039;);

// where id = 1 or (age &lt; 14)
Db::query()-&gt;where(&#039;id&#039;, &#039;=&#039;, 1)-&gt;whereBrackets(function(){
    // 直接返回字符串
    return new \Imi\Db\Query\Where\Where(&#039;age&#039;, &#039;&lt;&#039;, 14);
}, &#039;or&#039;);
Db::query()-&gt;where(&#039;id&#039;, &#039;=&#039;, 1)-&gt;orWhereBrackets(function(){
    // 直接返回字符串
    return new \Imi\Db\Query\Where\Where(&#039;age&#039;, &#039;&lt;&#039;, 14);
});</code></pre><h4 id="whereStruct"><a href="#whereStruct">whereStruct</a></h4><pre><code class="php">// or age &lt; 14
Db::query()-&gt;whereStruct(new \Imi\Db\Query\Where\Where(&#039;age&#039;, &#039;&lt;&#039;, 14), &#039;or&#039;);
Db::query()-&gt;orWhereStruct(new \Imi\Db\Query\Where\Where(&#039;age&#039;, &#039;&lt;&#039;, 14));</code></pre><h4 id="其它"><a href="#其它">其它</a></h4><pre><code class="php">// or age between 1 and 14
Db::query()-&gt;whereBetween(&#039;age&#039;, 1, 14, &#039;or&#039;);
Db::query()-&gt;orWhereBetween(&#039;age&#039;, 1, 14);

// or age not between 1 and 14
Db::query()-&gt;whereNotBetween(&#039;age&#039;, 1, 14, &#039;or&#039;);
Db::query()-&gt;orWhereNotBetween(&#039;age&#039;, 1, 14);

// or age in (1,2,3)
Db::query()-&gt;whereIn(&#039;age&#039;, [1, 2, 3], &#039;or&#039;);
Db::query()-&gt;orWhereIn(&#039;age&#039;, [1, 2, 3]);

// or age not in (1,2,3)
Db::query()-&gt;whereNotIn(&#039;age&#039;, [1, 2, 3], &#039;or&#039;);
Db::query()-&gt;orWhereNotIn(&#039;age&#039;, [1, 2, 3]);

// or age is null
Db::query()-&gt;whereIsNull(&#039;age&#039;, &#039;or&#039;);
Db::query()-&gt;orWhereIsNull(&#039;age&#039;);

// or age is not null
Db::query()-&gt;whereIsNotNull(&#039;age&#039;, &#039;or&#039;);
Db::query()-&gt;orWhereIsNotNull(&#039;age&#039;);</code></pre><h4 id="JSON 字段支持"><a href="#JSON 字段支持">JSON 字段支持</a></h4><p>看如下代码，<code>data</code>为<code>json</code>类型字段，查询<code>json</code>对象中的<code>member.age</code>为<code>11</code>的记录</p><pre><code class="php">Db::query()-&gt;where(&#039;data-&gt;member.age&#039;, &#039;=&#039;, 11)-&gt;select();</code></pre><h3 id="join"><a href="#join">join</a></h3><pre><code class="php">// select * from tb_test1 left join tb_test2 on tb_test1.aid = tb_test2.bid
Db::query()-&gt;table(&#039;tb_test1&#039;)-&gt;join(&#039;tb_test2&#039;, &#039;tb_test1.aid&#039;, &#039;=&#039;, &#039;tb_test2.bid&#039;);
// select * from tb_test1 left join tb_test2 as test2 on tb_test1.aid = test2.bid
Db::query()-&gt;table(&#039;tb_test1&#039;)-&gt;join(&#039;tb_test2&#039;, &#039;tb_test1.aid&#039;, &#039;=&#039;, &#039;test2.bid&#039;, &#039;test&#039;);
// select * from tb_test1 right join tb_test2 on tb_test1.aid = tb_test2.bid and tb_test1.age &gt; 14
Db::query()-&gt;table(&#039;tb_test1&#039;)-&gt;join(&#039;tb_test2&#039;, &#039;tb_test1.aid&#039;, &#039;=&#039;, &#039;tb_test2.bid&#039;, null, new \Imi\Db\Query\Where\Where(&#039;tb_test1.age&#039;, &#039;&gt;&#039;, &#039;14&#039;), &#039;right&#039;);

// select * from tb_test1 left join tb_test2 on tb_test1.aid = tb_test2.bid
Db::query()-&gt;table(&#039;tb_test1&#039;)-&gt;joinRaw(&#039;left join tb_test2 on tb_test1.aid = tb_test2.bid&#039;);

// 下面三种用法，第5个参数都支持传Where
// left join
Db::query()-&gt;table(&#039;tb_test1&#039;)-&gt;leftJoin(&#039;tb_test2&#039;, &#039;tb_test1.aid&#039;, &#039;=&#039;, &#039;tb_test2.bid&#039;);
// right join
Db::query()-&gt;table(&#039;tb_test1&#039;)-&gt;rightJoin(&#039;tb_test2&#039;, &#039;tb_test1.aid&#039;, &#039;=&#039;, &#039;tb_test2.bid&#039;);
// cross join
Db::query()-&gt;table(&#039;tb_test1&#039;)-&gt;crossJoin(&#039;tb_test2&#039;, &#039;tb_test1.aid&#039;, &#039;=&#039;, &#039;tb_test2.bid&#039;);</code></pre><h3 id="order"><a href="#order">order</a></h3><pre><code class="php">// order by id asc, age desc
Db::query()-&gt;order(&#039;id&#039;)-&gt;order(&#039;age&#039;, &#039;desc&#039;);

// order by id desc
Db::query()-&gt;orderRaw(&#039;id desc&#039;);

// JSON 类型参数排序
Db::query()-&gt;order(&#039;field1-&gt;uid&#039;, &#039;desc&#039;);</code></pre><h3 id="group by"><a href="#group by">group by</a></h3><pre><code class="php">// group by id, name
Db::query()-&gt;group(&#039;id&#039;, &#039;name&#039;);

// group by sum(id)
Db::query()-&gt;groupRaw(&#039;sum(id)&#039;);</code></pre><h3 id="having"><a href="#having">having</a></h3><p><code>having()</code>用法同<code>where()</code></p><p><code>havingRaw()</code>用法同<code>whereRaw()</code></p><p><code>havingBrackets()</code>用法同<code>whereBrackets()</code></p><p><code>havingStruct()</code>用法同<code>whereStruct()</code></p><h3 id="分页查询"><a href="#分页查询">分页查询</a></h3><pre><code class="php">// limit 900, 100
Db::query()-&gt;page(10, 100);

// limit 10, 1
Db::query()-&gt;offset(10)-&gt;limit(1);

// limit 1
Db::query()-&gt;limit(1);</code></pre><h3 id="分页查询带扩展字段"><a href="#分页查询带扩展字段">分页查询带扩展字段</a></h3><p>查询总记录数、总页数：</p><pre><code class="php">$page = 1;
$count = 10;
$data = Db::query()-&gt;from(&#039;xxxtable&#039;)-&gt;paginate($page, $count);

$data-&gt;getList(); // 列表数据
$data-&gt;getTotal(); // 总记录数
$data-&gt;getLimit(); // $count === 10
$data-&gt;getPageCount(); // 总页数

var_dump($data-&gt;toArray()); // 转数组
var_dump(json_encode($data)); // 支持序列化
// 数据格式如下：
[
    &#039;list&#039;          =&gt; [],
    &#039;total&#039;         =&gt; 100,
    &#039;limit&#039;         =&gt; 10,
    &#039;page_count&#039;    =&gt; 10,
]</code></pre><p>不查询总记录数、总页数：</p><pre><code class="php">$page = 1;
$count = 10;
$data = Db::query()-&gt;from(&#039;xxxtable&#039;)-&gt;paginate($page, $count, [
    &#039;total&#039; =&gt;  false,
]);
var_dump($data-&gt;toArray()); // 转数组
var_dump(json_encode($data)); // 支持序列化
// 数据格式如下：
[
    &#039;list&#039;          =&gt; [],
    &#039;limit&#039;         =&gt; 10,
]</code></pre><h2 id="查询执行"><a href="#查询执行">查询执行</a></h2><h3 id="查询记录"><a href="#查询记录">查询记录</a></h3><h4 id="查询单行"><a href="#查询单行">查询单行</a></h4><pre><code class="php">$result = Db::query()-&gt;table(&#039;tb_test&#039;)-&gt;select();
$result-&gt;get(); // 数组
$result-&gt;get($className); // $className对应的类对象</code></pre><h4 id="查询多行"><a href="#查询多行">查询多行</a></h4><pre><code class="php">$result = Db::query()-&gt;table(&#039;tb_test&#039;)-&gt;select();
$result-&gt;getArray(); // 数组内嵌套数组
$result-&gt;getArray($className); // 数组内嵌套$className对应的类对象
$result-&gt;getRowCount(); // 获取查询出的记录行数</code></pre><h4 id="聚合函数"><a href="#聚合函数">聚合函数</a></h4><pre><code class="php">// count(*)
Db::query()-&gt;table(&#039;tb_test&#039;)-&gt;count();

// count(id)
Db::query()-&gt;table(&#039;tb_test&#039;)-&gt;count(&#039;id&#039;);

// sum(id)
Db::query()-&gt;table(&#039;tb_test&#039;)-&gt;sum(&#039;id&#039;);

// avg(id)
Db::query()-&gt;table(&#039;tb_test&#039;)-&gt;avg(&#039;id&#039;);

// max(id)
Db::query()-&gt;table(&#039;tb_test&#039;)-&gt;max(&#039;id&#039;);

// min(id)
Db::query()-&gt;table(&#039;tb_test&#039;)-&gt;min(&#039;id&#039;);

// 其它自定义：test(id)
Db::query()-&gt;table(&#039;tb_test&#039;)-&gt;aggregate(&#039;test&#039;, &#039;id&#039;);</code></pre><h3 id="插入记录"><a href="#插入记录">插入记录</a></h3><pre><code class="php">// insert into tb_test(name, age) values(&#039;yurun&#039;, 666)
$result = Db::query()-&gt;table(&#039;tb_test&#039;)-&gt;insert([
    &#039;name&#039;    =&gt;    &#039;yurun&#039;,
    &#039;age&#039;    =&gt;    666,
]);

// insert into tb_test values(&#039;yurun&#039;, 666)
$result = Db::query()-&gt;table(&#039;tb_test&#039;)-&gt;insert([
    &#039;yurun&#039;,666,
]);

$result-&gt;isSuccess(); // SQL是否执行成功
$result-&gt;getLastInsertId(); // 获取最后插入的ID
$result-&gt;getAffectedRows(); // 获取影响行数</code></pre><h3 id="批量插入"><a href="#批量插入">批量插入</a></h3><pre><code class="php">$result = Db::query()-&gt;from(&#039;test&#039;)-&gt;batchInsert([
    [&#039;name&#039;=&gt;&#039;a&#039;],
    [&#039;name&#039;=&gt;&#039;b&#039;],
    [&#039;name&#039;=&gt;&#039;c&#039;],
]);
$result-&gt;isSuccess(); // SQL是否执行成功
$result-&gt;getAffectedRows(); // 获取影响行数</code></pre><h3 id="更新记录"><a href="#更新记录">更新记录</a></h3><pre><code class="php">// update tb_test set name = &#039;yurun&#039;, age = 666 where id = 1
$result = Db::query()-&gt;table(&#039;tb_test&#039;)-&gt;where(&#039;id&#039;, &#039;=&#039;, 1)-&gt;update([
    &#039;name&#039;    =&gt;    &#039;yurun&#039;,
    &#039;age&#039;    =&gt;    666,
    // JSON 类型参数
    &#039;field1-&gt;name&#039;        =&gt; &#039;bbb&#039;, // 修改 name
    &#039;field1-&gt;list2&#039;       =&gt; [1, 2, 3], // 修改 list2，支持数组、对象
    &#039;field1-&gt;list1[0].id&#039; =&gt; &#039;2&#039;, // 支持对数组中指定成员、对象属性赋值，支持无限级
]);

// $result使用方法同上</code></pre><h3 id="替换数据"><a href="#替换数据">替换数据</a></h3><pre><code class="php">// replace into tb_test set id = 1, name = &#039;yurun&#039;, age = 666
$result = Db::query()-&gt;table(&#039;tb_test&#039;)-&gt;replace([
    &#039;id&#039;    =&gt;    1,
    &#039;name&#039;    =&gt;    &#039;yurun&#039;,
    &#039;age&#039;    =&gt;    666,
]);</code></pre><h3 id="递增/递减"><a href="#递增/递减">递增/递减</a></h3><pre><code class="php">// score 递增 1
$result = Db::query()-&gt;table(&#039;tb_test&#039;)
                     -&gt;where(&#039;id&#039;, &#039;=&#039;, 1)
                     -&gt;setFieldInc(&#039;score&#039;)
                     -&gt;update();

// score 递增 10
$result = Db::query()-&gt;table(&#039;tb_test&#039;)
                     -&gt;where(&#039;id&#039;, &#039;=&#039;, 1)
                     -&gt;setFieldInc(&#039;score&#039;, 10)
                     -&gt;update();

// score 递减 1
$result = Db::query()-&gt;table(&#039;tb_test&#039;)
                     -&gt;where(&#039;id&#039;, &#039;=&#039;, 1)
                     -&gt;setFieldDec(&#039;score&#039;)
                     -&gt;update();

// score 递减 10
$result = Db::query()-&gt;table(&#039;tb_test&#039;)
                     -&gt;where(&#039;id&#039;, &#039;=&#039;, 1)
                     -&gt;setFieldDec(&#039;score&#039;, 10)
                     -&gt;update();</code></pre><h3 id="update/insert/replace时使用表达式"><a href="#update/insert/replace时使用表达式">update/insert/replace时使用表达式</a></h3><pre><code class="php">// update tb_test set score = score + 1 where id = 1
$result = Db::query()-&gt;table(&#039;tb_test&#039;)
                     -&gt;where(&#039;id&#039;, &#039;=&#039;, 1)
                     -&gt;setFieldExp(&#039;score&#039;, &#039;score + 1&#039;)
                     -&gt;update();</code></pre><h3 id="删除记录"><a href="#删除记录">删除记录</a></h3><pre><code class="php">// delete from tb_test where id = 1
$result = Db::query()-&gt;table(&#039;tb_test&#039;)-&gt;where(&#039;id&#039;, &#039;=&#039;, 1)-&gt;delete();

// $result使用方法同上</code></pre><h3 id="加锁"><a href="#加锁">加锁</a></h3><p>排它锁：</p><pre><code class="php">use Imi\Db\Query\Lock\MysqlLock;
Db::query()-&gt;from(&#039;tb_xxx&#039;)-&gt;where(&#039;id&#039;, &#039;=&#039;, 1)-&gt;lock(MysqlLock::FOR_UPDATE)-&gt;select()-&gt;get();</code></pre><p>共享锁：</p><pre><code class="php">use Imi\Db\Query\Lock\MysqlLock;
Db::query()-&gt;from(&#039;tb_xxx&#039;)-&gt;where(&#039;id&#039;, &#039;=&#039;, 1)-&gt;lock(MysqlLock::SHARED)-&gt;select()-&gt;get();</code></pre><h2 id="直接执行SQL"><a href="#直接执行SQL">直接执行SQL</a></h2><pre><code class="php">$result = Db::query()-&gt;execute(&#039;select * from tb_test&#039;));

// $result使用方法同上</code></pre><h2 id="参数绑定"><a href="#参数绑定">参数绑定</a></h2><p>复杂的查询时，难免需要拼接 SQL，这时候就需要参数绑定来防止注入了！</p><pre><code class="php">// where id = 123
$result = Db::query()-&gt;whereRaw(&#039;id = ?&#039;)-&gt;bindValue(1, 123);
$result = Db::query()-&gt;whereRaw(&#039;id = :val&#039;)-&gt;bindValue(&#039;:val&#039;, 123);

// 批量绑定
$result = Db::query()-&gt;bindValues([
    &#039;:name&#039;    =&gt;    &#039;yurun&#039;,
    &#039;:age&#039;    =&gt;    666,
])-&gt;execute(&#039;select * from tb_test where name = :name and age = :age&#039;);</code></pre><h2 id="设置/获取 Result 结果集类名"><a href="#设置/获取 Result 结果集类名">设置/获取 Result 结果集类名</a></h2><pre><code class="php">$query = Db::query();
// 获取
var_dump($query-&gt;getResultClass());

// 设置
$query-&gt;setResultClass(\Imi\Db\Query\Result::class);</code></pre><h2 id="Result 用法"><a href="#Result 用法">Result 用法</a></h2><pre><code class="php">$result = Db::query()-&gt;table(&#039;tb_test&#039;)-&gt;select();</code></pre><h3 id="是否执行成功"><a href="#是否执行成功">是否执行成功</a></h3><pre><code class="php">$success = $result-&gt;isSuccess(); // true/false</code></pre><h3 id="获取最后插入的ID"><a href="#获取最后插入的ID">获取最后插入的ID</a></h3><p>用于获取新增记录的自增字段值</p><pre><code class="php">$lastInsertId = $result-&gt;getLastInsertId(); // int</code></pre><h3 id="获取影响行数"><a href="#获取影响行数">获取影响行数</a></h3><pre><code class="php">$rows = $result-&gt;getAffectedRows();</code></pre><blockquote>update 时，如果没有值被改变，可能会返回0</blockquote><h3 id="返回一行数据"><a href="#返回一行数据">返回一行数据</a></h3><h4 id="返回数组"><a href="#返回数组">返回数组</a></h4><pre><code class="php">$dataArray = $result-&gt;get();</code></pre><h4 id="返回对象"><a href="#返回对象">返回对象</a></h4><p>实例化这个类时，把数组传入构造方法</p><pre><code class="php">$dataArray = $result-&gt;get(XXXModel::class);</code></pre><h3 id="返回数组列表"><a href="#返回数组列表">返回数组列表</a></h3><h4 id="成员为数组"><a href="#成员为数组">成员为数组</a></h4><pre><code class="php">$list = $result-&gt;getArray();</code></pre><h4 id="成员为对象"><a href="#成员为对象">成员为对象</a></h4><pre><code class="php">$list = $result-&gt;getArray(XXXModel::class);</code></pre><h3 id="获取一列"><a href="#获取一列">获取一列</a></h3><pre><code class="php">$ids = Db::query()-&gt;field(&#039;id&#039;)-&gt;select()-&gt;getColumn();
// 结果格式：[1, 2, 3]</code></pre><h3 id="获取标量结果"><a href="#获取标量结果">获取标量结果</a></h3><pre><code class="php">$name = Db::query()-&gt;field(&#039;name&#039;)-&gt;where(&#039;id&#039;, &#039;=&#039;, 1)-&gt;select()-&gt;getScalar();</code></pre><h3 id="获取记录行数"><a href="#获取记录行数">获取记录行数</a></h3><p>得到取回多少条记录</p><pre><code class="php">$rowCount = $result-&gt;getRowCount();</code></pre><h3 id="获取执行的SQL"><a href="#获取执行的SQL">获取执行的SQL</a></h3><pre><code class="php">$sql = $result-&gt;getSql();</code></pre><h3 id="获取结果集"><a href="#获取结果集">获取结果集</a></h3><pre><code class="php">$statement = $result-&gt;getStatement(); // \Imi\Db\Interfaces\IStatement</code></pre>            </div>
        </div>
    </div>

    <script>
        $(function(){
            var leftBarTimeout = null;
            $('#leftbar').hover(function(e){
                if(null !== leftBarTimeout)
                {
                    clearTimeout(leftBarTimeout);
                    leftBarTimeout = null;
                }
                if(e.type === 'mouseenter')
                {
                    $('.left-show-hide').fadeIn(250);
                }
                else if($('#leftbar').css('left') == '0px')
                {
                    $('.left-show-hide').fadeOut(500);
                }
            });
        });
        function showLeftbar()
        {
            $('#leftbar').css('left', 0);
            $('#body').css('padding-left','');
            $('.left-show-hide > i.layui-icon').html('&#xe603;');
        }
        function hideLeftbar()
        {
            $('#leftbar').css('left', '-240px');
            $('#body').css('padding-left',0);
            $('.left-show-hide > i.layui-icon').html('&#xe602;');
            $('.left-show-hide').fadeIn(250);
        }
        $('.left-show-hide').click(function(){
            if($('#leftbar').css('left') == '0px')
            {
                hideLeftbar();
            }
            else
            {
                showLeftbar();
            }
        })
    </script>
    <script src="../../statics/js/mddoc-search.js"></script>
    <script src="https://s13.cnzz.com/z_stat.php?id=1273991018&web_id=1273991018" language="JavaScript"></script>
</body>
</html>